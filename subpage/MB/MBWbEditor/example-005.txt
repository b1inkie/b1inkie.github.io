<a href="../../../subpage/MB/MBWbEditor/MBWbEditor.html"><img src="../../../images/quest-logo/farm.png" alt="返回" title="返回" style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; display: block; margin: 0px auto; max-width: 100%;"></a>
#箭矢击中触发器，概率回复箭矢
##50%几率不回复，40%几率回复1发，10%几率回复2发。
```python
(store_trigger_param_1, ":user"),
(try_for_range, ":item_carry", 0, 4),
    (agent_get_item_slot, ":weapon_equipped", ":user", ":item_carry"),
    # (agent_get_item_slot, <destination>, <agent_id>, <value>), value between 0-7, order is weapon1, weapon2, weapon3, weapon4, head_armor, body_armor, leg_armor, hand_armor
    (item_get_type, ":item_weapon_type", ":weapon_equipped"),
    (try_begin),
        (eq, ":item_weapon_type", itp_type_arrows), #获取武器类型为箭矢
        (agent_get_ammo_for_slot, ":current_ammo", ":user", ":item_carry"),
        #(agent_get_ammo_for_slot, <destination>, <agent_id>, <slot_no>), #slot no can be between 0-3
        
        (store_random_in_range,":random_no",1,100),
        (try_begin),
            (is_between,":random_no",1,10),
            (val_add,":current_ammo",2),
            (agent_set_ammo, ":user", ":weapon_equipped", ":current_ammo"),
            #(agent_set_ammo,<agent_id>,<item_id>,<value>), 
        (else_try),
            (is_between,":random_no",10,50),
            (val_add,":current_ammo",1),
            (agent_set_ammo, ":user", ":weapon_equipped", ":current_ammo"),
        (try_end),
    (try_end),
(try_end),
```
<a href="../../../subpage/MB/MBWbEditor/MBWbEditor.html"><img src="../../../images/quest-logo/farm.png" alt="返回" title="返回" style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; display: block; margin: 0px auto; max-width: 100%;"></a>